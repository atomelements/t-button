<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">

<dom-module id="t-button">

  <!-- <link rel="import" type="css" href="t-button.css"> -->


  <template>

    <style is="custom-style">
      
:host{
  @apply --layout-inline;
  @apply --layout-center-center;

  display: inline-flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;

  position: relative;
  font-family: var(--primary-font-family);
  outline: none;
  background: var(--button-bg-color);
  border-radius: var(--standard-border-radius);
  min-width:var(--button-min-width);
  color: var(--button-text-color);
  font-size: var(--button-text-size);

  --paper-button-ink-color: red;
  --paper-button: {
    border-radius: var(--standard-border-radius, 2px);
    background:var(--button-primary-bg-color);
    color:var(--button-primary-text-color);
    @apply --layout-horizontal;
    @apply --layout-center;
    @apply --layout-center-justified;
  };

  --paper-button-disabled: ;
  --paper-button-flat-keyboard-focus: ;
  --paper-button-raised-keyboard-focus: ;

  --iron-icon: ;  
  --iron-icon-width: var(--button-icon-size, 24px);
  --iron-icon-height: var(--button-icon-size, 24px);
  --iron-icon-fill-color: red;
  --iron-icon-stroke-color: blue ;

  --paper-icon-button-disabled-text: ;
  --paper-icon-button-ink-color: var(--primary-text-color);
  --paper-icon-button: {
     background:var(--button-primary-bg-color);
     border-radius: var(--standard-border-radius, 2px);
  };
  --paper-icon-button-disabled: ;
  --paper-icon-button-hover: ;

}


:host([only-icon]){
  background:var(--icon-bg-color);
  min-width: 0!important;
  margin: 0;
  @apply --paper-icon-button;
  color: var(--icon-color);
}
:host([only-icon]) paper-icon-button{
  background: var(--icon-bg-color);
  border-radius: 50%!important;
  overflow: hidden;
}

  :host([ico][icon-left]) #text-button{
    order:2;
    margin-left:8px;
    margin-right:0;
  }

  :host([ico]) #text-button{
    margin-right:8px;
    margin-left:0;
  }

  :host([ico]) #text-icon {
    display: inline-block;
      width: var(--iron-icon-width);
      height: var(--iron-icon-height);
  }

    </style>

    <template is="dom-if" if="[[!onlyIcon]]" restamp>
      <paper-button raised$="{{raised}}" disabled$="{{disabled}}" noink$="{{noink}}" toggles$="{{toggles}}">
        <span id="text-button">{{label}}</span>
        <span id="text-icon" hidden$="{{!hasIcon}}" restamp="true">
          <iron-icon icon="{{ico}}" src="{{icoSrc}}" ></iron-icon>
        </span>
      </paper-button>
    </template>

    <template is="dom-if" if="[[onlyIcon]]" restamp>
      <paper-icon-button disabled$="{{disabled}}" icon$="{{ico}}" src$="{{icoSrc}}" raised$="{{raised}}" noink$="{{noink}}" toggles$="{{toggles}}">
      </paper-icon-button>
    </template>

  </template>

</dom-module>

<script>

  Polymer({

    is: 't-button',

    properties: {

      /**
       * If true, the button will be a paper icon button
       */
      onlyIcon:{
        type: Boolean,
        value:false,
        reflectToAttribute:true
      },

      /**
       * To pass the src of a custom image only for icon btn
       */
      icoSrc:{
        type: String
      },

      /**
       * Button label
       */
      label:{
        type: String,
        value:'',
        reflectToAttribute : true
      },

      /**
       * To check if theres an icon
       */
      hasIcon:{
        type: Boolean,
        value:false,
        reflectToAttribute:true
      },

      /**
       * Ink effect on button
       */
      noink:{
        type: Boolean,
        value:true,
        reflectToAttribute:true
      },

      /**
       * If true, the button will toggle the active attribute.
       */
      toggles:{
        type: Boolean,
        reflectToAttribute:true,
        value:false
      },
      
      /**
       * If true, the button should be styled with a shadow.
       */
      raised: {
        type: Boolean,
        reflectToAttribute: true,
        value: false
      },

      /**
       * If true, the button will be disabled.
       */
      disabled: {
        type: Boolean,
        reflectToAttribute: true,
        value: false
      },

      /**
       * The value of icon
       */
      ico :{
        type: String,
        reflectToAttribute:true,
        notify:true,
        observer:'_checkIcon'
      },

      /**
       * If true, the icon will appear in the left.
       */
      iconLeft:{
        type: Boolean,
        reflectToAttribute: true,
        value: false
      }

    },

    _checkIcon: function(ico){
      if(this.ico == '')
        this.removeAttribute('ico');
      this.hasIcon = this.hasAttribute('ico');
    }

  });

</script>
