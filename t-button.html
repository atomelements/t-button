<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">

<dom-module id="t-button">

  <!-- <link rel="import" type="css" href="t-button.css"> -->


  <template>

    <style>
      
:host{
  font-family: var(--primary-font-family);
  outline: none;
  background: var(--button-bg-color);
  border-radius: var(--standard-border-radius);
  display: inline-block;
  min-width:var(--button-min-width);
  color: var(--button-text-color);
  font-size: var(--button-text-size);
  text-align: center;
}
paper-button{
  display: block;
  margin: 0 ;
  outline: none;
  border-radius: var(--standard-border-radius, 2px);

  @apply(--t-button);
}
:host([only-icon]){
  background:var(--icon-bg-color);
  min-width: 0!important;
  margin: 0;
  @apply(--paper-icon-button);
  color: var(--icon-color);
}
:host([only-icon]) paper-icon-button{
  background:var(--icon-bg-color);
  border-radius: 50%!important;
  overflow: hidden;
}


 :host.primary paper-button, 
 :host.primary paper-icon-button{
  background:var(--button-primary-bg-color);
  color:var(--button-primary-text-color);
 }

  :host([disabled]) paper-button{
    background: var(--button-disabled-bg-color);
    color: var(--button-disabled-text-color);
    cursor: auto;
    pointer-events: none;

    @apply(--paper-button-disabled);
  }
  :host ::content paper-material{
    @apply(--layout-horizontal);
    @apply(--layout-center);
    @apply(--layout-center-justified);
  }
  :host([ico][icon-left]) ::content paper-material #text-button{
    order:2;
    margin-left:8px;
    margin-right:0;
  }

  :host([ico]) ::content paper-material #text-button{
    margin-right:8px;
    margin-left:0;
  }

  :host([ico]) ::content paper-material #text-icon, 
  paper-icon-button{
      color: inherit;
  }
:host ::content paper-button[raised].keyboard-focus {
  font-weight: normal;
}
  :host([ico]) ::content iron-icon{
    height: var(--button-icon-size);
    width: var(--button-icon-size);
  }

  /* Remove bold from focus */
  paper-button:not([raised]).keyboard-focus {
    font-weight: normal;
}
    </style>

    <template is="dom-if" if="[[!onlyIcon]]" restamp>
      <paper-button raised$="{{raised}}" disabled$="{{disabled}}" noink$="{{noink}}" toggles$="{{toggles}}">
        <span id="text-button">{{label}}</span>
        <span id="text-icon" hidden$="{{!hasIcon}}" restamp="true">
          <iron-icon icon="{{ico}}" src="{{icoSrc}}" ></iron-icon>
        </span>
      </paper-button>
    </template>

    <template is="dom-if" if="[[onlyIcon]]" restamp>
      <paper-icon-button disabled$="{{disabled}}" icon$="{{ico}}" src$="{{icoSrc}}" raised$="{{raised}}" noink$="{{noink}}" toggles$="{{toggles}}">
      </paper-icon-button>
    </template>

  </template>

</dom-module>

<script>

  Polymer({

    is: 't-button',

    properties: {

      /**
       * If true, the button will be a paper icon button
       */
      onlyIcon:{
        type: Boolean,
        value:false,
        reflectToAttribute:true
      },

      /**
       * To pass the src of a custom image only for icon btn
       */
      icoSrc:{
        type: String
      },

      /**
       * Button label
       */
      label:{
        type: String,
        value:'',
        reflectToAttribute : true
      },

      /**
       * To check if theres an icon
       */
      hasIcon:{
        type: Boolean,
        value:false,
        reflectToAttribute:true
      },

      /**
       * Ink effect on button
       */
      noink:{
        type: Boolean,
        value:true,
        reflectToAttribute:true
      },

      /**
       * If true, the button will toggle the active attribute.
       */
      toggles:{
        type: Boolean,
        reflectToAttribute:true,
        value:false
      },
      
      /**
       * If true, the button should be styled with a shadow.
       */
      raised: {
        type: Boolean,
        reflectToAttribute: true,
        value: false
      },

      /**
       * If true, the button will be disabled.
       */
      disabled: {
        type: Boolean,
        reflectToAttribute: true,
        value: false
      },

      /**
       * The value of icon
       */
      ico :{
        type: String,
        reflectToAttribute:true,
        notify:true,
        observer:'_checkIcon'
      },

      /**
       * If true, the icon will appear in the left.
       */
      iconLeft:{
        type: Boolean,
        reflectToAttribute: true,
        value: false
      }

    },

    _checkIcon: function(ico){
      if(this.ico == '')
        this.removeAttribute('ico');
      this.hasIcon = this.hasAttribute('ico');
    }

  });

</script>
